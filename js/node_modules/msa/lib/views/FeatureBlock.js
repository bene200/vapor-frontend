// Generated by CoffeeScript 1.9.2
({
  appendFeature: function(data) {
    var beforeStyle, beforeWidth, boxHeight, boxWidth, f, width;
    f = data.f;
    boxWidth = this.g.zoomer.get("columnWidth");
    boxHeight = this.g.zoomer.get("rowHeight");
    width = (f.get("xEnd") - f.get("xStart")) * boxWidth;
    beforeWidth = this.ctx.lineWidth;
    this.ctx.lineWidth = 3;
    beforeStyle = this.ctx.strokeStyle;
    this.ctx.strokeStyle = f.get("fillColor");
    this.ctx.strokeRect(data.xZero, data.yZero, width, boxHeight);
    this.ctx.strokeStyle = beforeStyle;
    return this.ctx.lineWidth = beforeWidth;
  },
  drawFeature: function(data) {
    var f, features, i, j, k, len, rectHeight, rectWidth, ref, ref1, results, seq, start, starts, x, xZero, yZero;
    seq = data.model.get("seq");
    rectWidth = this.g.zoomer.get("columnWidth");
    rectHeight = this.g.zoomer.get("rowHeight");
    start = Math.max(0, Math.abs(Math.ceil(-this.g.zoomer.get('_alignmentScrollLeft') / rectWidth)));
    x = -Math.abs(-this.g.zoomer.get('_alignmentScrollLeft') % rectWidth);
    xZero = x - start * rectWidth;
    features = data.model.get("features");
    yZero = data.y;
    results = [];
    for (j = i = ref = start, ref1 = seq.length - 1; i <= ref1; j = i += 1) {
      starts = features.startOn(j);
      if (data.hidden.indexOf(j) >= 0) {
        continue;
      }
      if (starts.length > 0) {
        for (k = 0, len = starts.length; k < len; k++) {
          f = starts[k];
          this.appendFeature({
            f: f,
            xZero: x,
            yZero: yZero
          });
        }
      }
      x = x + rectWidth;
      if (x > this.el.width) {
        break;
      } else {
        results.push(void 0);
      }
    }
    return results;
  }
});
